<!DOCTYPE html>
{% load staticfiles %}
<html>
    <head>
        <title>find a lift</title>
        <link rel="stylesheet" href="{% static "styles/style-find-lift.css" %}" />
        <!-- <link rel="stylesheet" href="../../static/styles/templatestyles.css" /> -->

    </head>

    <body>
      <header id="main-header">
        <div class="main-header">
            <a href="{% url 'szchober:index' %}"><h1>Szch<span>&#246</span>ber.</h1></a>

        </div>
    </header>
        <nav id="navbar">
            <ul class="navbar-left">
                <li><a href="{% url 'szchober:become-a-driver' %}">Driver</a></li>
                <li><a href="{% url 'szchober:become-a-rider' %}">Rider</a></li>
                <li ><a href="{% url 'szchober:about-us' %}" style="color: rgb(44, 131, 83)">About us</a></li>
            </ul>
            <ul class="navbar-right">
                <li class="login"><a href="#" id="modalbutton">Log in</a></li>
                <li class="signup"><a href="#" style="color: rgb(44, 131, 83);">Sign up</a></li>
            </ul>
        </nav>
        <div class="p">
            <div class="header">
                <div class="container">
                    <h1><a href='/szchober/' style="color:rgb(118,113,113);">Szch<span>รถ</span>ber</a></h1>
                </div>
            </div>
            </div>
    <div class="body">
    <div class="mapcontainer">
    <div id="map"></div>
    <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 17,
          center:  {lat: 55.8721, lng: -4.2882},
          mapTypeControl: false,
          mapTypeControlOptions: {
              style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
              position: google.maps.ControlPosition.TOP_CENTER
          },
          zoomControl: false,
          zoomControlOptions: {
              position: google.maps.ControlPosition.LEFT_CENTER
          },
          scaleControl: false,
          streetViewControl: false,
          streetViewControlOptions: {
              position: google.maps.ControlPosition.LEFT_TOP
          },
          fullscreenControl: false
        });
        var geocoder = new google.maps.Geocoder();
        document.getElementById('ConfirmLocation').addEventListener('click', function() {
          geocodeAddress(geocoder, map);
        });

        infoWindow = new google.maps.InfoWindow;
        
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

        infoWindow.setPosition(pos);
        infoWindow.setContent('Your approximate location.');
        infoWindow.open(map);
        map.setCenter(pos);
      }, function() {
        handleLocationError(true, infoWindow, map.getCenter());
        });
      } else {
        handleLocationError(false, infoWindow, map.getCenter());
      }
      }

      function geocodeAddress(geocoder, resultsMap) {
        var address = document.getElementById('location').value;
        geocoder.geocode({'address': address}, function(results, status) {
          if (status === 'OK') {
            resultsMap.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: resultsMap,
              position: results[0].geometry.location,
            });
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
          }
        });
      }

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDAyB5pYSYqOo5T0ih5jDjKJJpsNR_LVO8&callback=initMap">
    </script>
    </div>

    <div class="container-supermarket-info">
        <h2>Find a lift.</h2>
        <form>
            <input type="text" id="location" name="location" placeholder="Enter destination location and postcode">
        </form>
        <button type="button" id="ConfirmLocation">Confirm Location</button>
    </div>

    <div class="container-available-drivers">
        <h3>Available Drivers.</h3>
        <button onclick="bookNowButton()" type="button" id="booknow">Book now</button>

        <script>
          function bookNowButton(){
            alert("Your selected driver has been alerted and is on their way");
          }
        </script>

    </div>
</div>
<div class="footer">
  <div class="container">
      <h1>Szch<span>รถ</span>ber</h1>
  </div>
</div>
</section>
<footer>
    <br>
    <nav id="navbar">
        <ul class="navbar-left">
            <li><a href="#"><img src="../../static/images/420px-Globe_icon.svg.png" alt=""></a></li>
            <li><a href="#">
                <div>
                    <h3 style="color: black;">Contact us</h3>
                    <h1 style="color: rgb(44, 131, 83); font-size: 10px; padding-top: 5px ;">+44 749 4671 324</h1>
                    <a href="{% url 'szchober:feedback' %}"><h1 style="color: rgb(44, 131, 83); font-size: 10px; padding-top: 5px ;">Feedback</h1></a>
                </div>
            </a></li>
        </ul>
        <ul class="navbar-right">
            <li><a href="http://hyperurl.co/pt4i93"><img src="../../static/images/download-on-app-store-png-2.png" alt=""></a></li>
            <li><a href="#"><img src="../../static/images/socials.png" alt=""></a></li>
        </ul>
    </nav>
</footer>
<div id="loginmodal" class="modal">

    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Log in</h3>
        <form action="process.php" method="POST">
            <input class="oneperline" placeholder="Email" type="text" name="loginemail">
            <input class="oneperline" placeholder="Password" type="text" name="loginpassword">
            <input class="submitbutton" type="submit" name="loginbutton" value="Sign me in" style="float: right;">
            
            
        </form>

    </div>
  
</div>
  
<script>
    var modal = document.getElementById("loginmodal");
    var btn = document.getElementById("modalbutton");
    var span = document.getElementsByClassName("close")[0];
    btn.onclick = function() {
        modal.style.display = "block";
    }
    span.onclick = function() {
        modal.style.display = "none";
    }
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
    </body>
</html>